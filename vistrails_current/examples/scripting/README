This file explains script vtk_book_3rd_p189_script.py. It is a script that generates the same pipeline found in the example vt file with (practically) the same name, and is used to compare the new layout options designed to improve incremental/online layout.

Two options were added to the original layout algorithm:

-preserve_order: this preserves the order in the x-coordinate of existing modules in the pipeline. Modules with no previous x position (new modules) are positioned based on the original layout algorithm which tries to minimize connection crossings. 

-no_gaps: this prevents connected modules from being more than one layer (aka row) apart from eachother.

VisTrails files were generated using each of the 4 combinations of the above boolean options. These can be regenerated by changing the parameters in function layoutAndAdd on line 40 of the script, and the output file name at the end of the script. Open these in vistrails and traverse the version tree using undo and redo to see how the pipelines are layed out incrementally.

brain_script.py builds the example pipeline from brain_vistrail.vt, and combined_script.py builds a pipeline of the two combined.